import{r,j as e,L as d,Q as E,O as Z,a as O,I as R,S as C,u as q,B as $,R as U,b as J,g as W,h as K,f as G,m as Q,c as Y,d as _,e as X,E as ee,z as se,i as te,k as ae,l as le,n as re,C as ne,o as ie}from"./.pnpm-Clke76Ce.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(t){if(t.ep)return;t.ep=!0;const l=i(t);fetch(t.href,l)}})();function ce(){const[s,a]=r.useState(JSON.parse(localStorage.getItem("isdark"))||!1),[i,n]=r.useState(s?"dark":"light");r.useEffect(()=>{localStorage.setItem("isdark",JSON.stringify(s))},[s]),r.useEffect(()=>{document.querySelector("html").setAttribute("data-theme",i)},[i]);function t(){n(l=>l==="light"?"dark":"light"),a(l=>!l)}return e.jsx(e.Fragment,{children:e.jsxs("label",{className:"swap swap-rotate",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:t,className:"theme-controller",value:"synthwave"}),e.jsx("svg",{className:"swap-off fill-current w-[2em] h-[2em]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),e.jsx("svg",{className:"swap-on fill-current w-[2em] h-[2em]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]})})}function oe(s){return e.jsx(e.Fragment,{children:s.menu?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m7.4 15.375l-1.4-1.4l6-6l6 6l-1.4 1.4l-4.6-4.6z"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m12 15.375l-6-6l1.4-1.4l4.6 4.6l4.6-4.6l1.4 1.4z"})})})}function de(s){const[a,i]=r.useState(!0);function n(){i(!a)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"gap-4 flex flex-col items-center mx-6",children:[e.jsx("div",{children:e.jsx("h2",{className:"flex justify-center text-2xl font-bold my-6",children:"DW"})}),e.jsxs("div",{className:"m-2",children:[e.jsx("hr",{}),e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx(d,{to:"home",className:" select-none hover:underline underline-offset-4 cursor-pointer p-2 px-8 w-full text-center m-4 text-inherit font-bold border-2 rounded-lg",children:"站点统计"}),e.jsxs("div",{className:"flex flex-col pl-8 pr-2 py-2 w-full text-center m-4 text-inherit font-bold border-2 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center select-none",children:[e.jsx(d,{to:"blog",onClick:n,className:"pl-5 text-center hover:underline underline-offset-4 cursor-pointer",children:"博客管理"}),e.jsx("span",{onClick:n,className:"cursor-pointer hover:text-gray-400",children:e.jsx(oe,{menu:a})})]}),e.jsxs("div",{className:`${a?"visible flex flex-col text-left pl-5 mt-4 space-y-3 select-none":"hidden"}`,children:[e.jsx(d,{to:"blog",className:"hover:underline underline-offset-4 cursor-pointer",children:"文章管理"}),e.jsx(d,{to:"add",className:"hover:underline underline-offset-4 cursor-pointer",children:"新增文章"}),e.jsx(d,{to:"label",className:"hover:underline underline-offset-4 cursor-pointer",children:"标签管理"})]})]}),e.jsx("div",{className:"select-none hover:underline underline-offset-4 cursor-pointer p-2 px-8 w-full text-center m-4 text-inherit font-bold border-2 rounded-lg",children:e.jsx(d,{to:"shouji",children:"手记管理"})}),e.jsx("div",{className:"select-none hover:underline underline-offset-4 cursor-pointer p-2 px-8 w-full text-center m-4 text-inherit font-bold border-2 rounded-lg",children:e.jsx(d,{to:"friend",children:"友链"})}),e.jsx("div",{className:"select-none hover:underline underline-offset-4 cursor-pointer p-2 px-8 w-full text-center m-4 text-inherit font-bold border-2 rounded-lg",children:e.jsx(d,{to:"about",children:"关于我"})}),e.jsx("div",{className:"mt-14 select-none hover:underline underline-offset-4 cursor-pointer p-2 px-8 w-full text-center m-4 text-inherit font-bold border-2 rounded-lg",children:"Exit"}),e.jsx("div",{className:"",children:e.jsx(ce,{})})]})]})]})})}function he(s){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex space-x-2 h-screen",children:[e.jsx("div",{className:"flex-none w-64",children:e.jsx(de,{})}),e.jsxs("div",{className:"flex-1 overflow-x-hidden",children:[e.jsx(E,{}),e.jsx(Z,{})]})]})})}const L="http://113.45.148.40:3000",u=O.create({baseURL:L});u.interceptors.request.use(function(s){const a=localStorage.getItem("token");return a&&(s.headers.Authorization=a),s},function(s){return Promise.reject(s)});const me="/assets/image-CZWtBznr.png",xe="/assets/imge2-DyAIWjs-.png";function ue(s){const[a,i]=r.useState(""),[n,t]=r.useState(""),[l,o]=r.useState(null),[j,f]=r.useState(null),[v,g]=r.useState(!1),[N,w]=r.useState(!1);async function p(x){x.preventDefault(),g(!0);try{const h=await u.get("api/users/login/admin",{params:{username:a,password:n}});h.data.code===1&&(w(!0),f("登录成功，跳转中..."),setTimeout(()=>{localStorage.setItem("username",a),localStorage.setItem("uid",h.data.uid),localStorage.setItem("headImgUrl",h.data.headImgUrl),localStorage.setItem("token",h.data.token),window.location.replace("/hashboard/home")},1e3))}catch(h){console.error(h),o("Login failed. Please check your username and password.")}finally{g(!1)}}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-center items-center w-[100vw] h-[100vh] bg-gradient-to-tr from-indigo-300 via-purple-300 to-pink-300",children:e.jsxs("div",{className:"w-[90vw] h-[85vh] border-2 border-solid backdrop-blur-md bg-white/40 rounded-2xl grid grid-cols-1 lg:grid lg:grid-cols-12 gap-2",children:[e.jsx("div",{className:"max-lg:hidden grid justify-center items-center col-span-7",children:e.jsxs("span",{className:"relative",children:[e.jsx("img",{src:me,alt:"Main visual",className:"w-[600px] h-[600px]"}),e.jsx("span",{className:"absolute bottom-10",children:e.jsx("img",{src:xe,alt:"Overlay",className:"w-[500px] h-[500px]"})})]})}),e.jsx("div",{className:"grid col-span-5 p-10",children:e.jsxs("div",{className:"p-6 flex flex-col",children:[e.jsx("p",{className:"my-14 self-center text-2xl text-inherit font-bold",children:"DingWan BLOG"}),e.jsx("h2",{className:"my-2",children:"Log in to Hashboard"}),e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:p,children:[e.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),e.jsx("input",{value:a,onChange:x=>i(x.target.value),placeholder:"Username",type:"text",id:"username",className:"rounded-lg bg-gray-100 h-10 p-4 outline-slate-300"}),e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{value:n,onChange:x=>t(x.target.value),placeholder:"Password",type:"password",id:"password",className:"rounded-lg bg-gray-100 h-10 p-4 outline-slate-300"}),e.jsx("button",{type:"submit",className:"rounded-lg my-8 h-10 bg-[#3b82f6] text-white",children:v?"Log in...":"Log in"}),N&&e.jsx("p",{className:"flex justify-center text-inherit text-orange-400",children:j}),l&&e.jsx("p",{className:"text-red-500",children:l}),"  "]})]})})]})})})}const b=s=>e.jsx(e.Fragment,{children:e.jsx(R,{size:s.size,value:s.value,placeholder:s.text,allowClear:!0,onChange:s.onChange})}),je=[{value:"Node",label:"Node"},{value:"React",label:"React"},{value:"Vue",label:"Vue"},{value:"Java",label:"Java"},{value:"Js",label:"Js"},{value:"Python",label:"Python"},{value:"HTML",label:"HTML"},{value:"Linux",label:"Linux"}],k=s=>e.jsx(C,{size:s.size,maxCount:4,allowClear:!0,optionFilterProp:"label",mode:"tags",style:{width:"100%"},placeholder:"Tags",onChange:s.setArtTag,options:je});function T(s){const a=new Date(s),i=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),t=String(a.getDate()).padStart(2,"0"),l=String(a.getHours()).padStart(2,"0"),o=String(a.getMinutes()).padStart(2,"0");return`${i}-${n}-${t} ${l}:${o}`}function pe(s){function a(){}q();const[i,n]=r.useState([]);return r.useEffect(()=>{async function t(){const l=await u.get("/api/articles/getarticlelist");console.log(l),n(l.data.data)}t()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-2 w-full h-full border-l-2 border-solid rounded-md",children:e.jsxs("div",{className:"p-2",children:[e.jsx("h2",{children:"文章管理"}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"flex gap-2 my-4",children:[e.jsx(b,{text:"请输入标题"}),e.jsx(k,{}),e.jsx(C,{style:{width:"100%"},placeholder:"请选择发布状态",options:[{value:"show",label:"已公开文章"},{value:"notshow",label:"私密文章"}]}),e.jsx($,{icon:e.jsx(U,{}),className:"text-gray-500",style:{width:"40%"},href:""}),e.jsxs(d,{className:"border-2 border-solid px-2 rounded-md flex items-center font-medium text-nowrap text-inherit gap-1 hover:bg-slate-200 ease-in-out duration-300",to:"/hashboard/add",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM5.92 19H5v-.92l9.06-9.06l.92.92zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83l3.75 3.75l1.83-1.83a.996.996 0 0 0 0-1.41"})}),"Add article"]})]}),e.jsxs("div",{className:"border-2 border-solid rounded-md py-2 h-[82vh] flex flex-col gap-2",children:[e.jsxs("div",{className:"grid grid-cols-7 gap-2 mx-2",children:[e.jsxs("span",{className:"flex justify-center items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M10.5 20V7H5V4h14v3h-5.5v13z"})}),e.jsx("p",{className:"text-inherit font-bold",children:"标题"})]}),e.jsxs("span",{className:"flex justify-center items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M9.775 12q-.9 0-1.5-.675T7.8 9.75l.325-2.45q.2-1.425 1.3-2.363T12 4t2.575.938t1.3 2.362l.325 2.45q.125.9-.475 1.575t-1.5.675zm0-2h4.45L13.9 7.6q-.1-.7-.637-1.15T12 6t-1.263.45T10.1 7.6zM4 18v-.8q0-.85.438-1.562T5.6 14.55q1.55-.775 3.15-1.162T12 13t3.25.388t3.15 1.162q.725.375 1.163 1.088T20 17.2v.8q0 .825-.587 1.413T18 20H6q-.825 0-1.412-.587T4 18m2 0h12v-.8q0-.275-.137-.5t-.363-.35q-1.35-.675-2.725-1.012T12 15t-2.775.338T6.5 16.35q-.225.125-.363.35T6 17.2zm6 0"})}),e.jsx("p",{className:"text-inherit font-bold",children:"作者"})]}),e.jsxs("span",{className:"flex justify-center items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"m21.41 11.58l-9-9A2 2 0 0 0 11 2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 .59 1.42l9 9A2 2 0 0 0 13 22a2 2 0 0 0 1.41-.59l7-7A2 2 0 0 0 22 13a2 2 0 0 0-.59-1.42M13 20l-9-9V4h7l9 9M6.5 5A1.5 1.5 0 1 1 5 6.5A1.5 1.5 0 0 1 6.5 5"})}),e.jsx("p",{className:"text-inherit font-bold",children:"标签"})]}),e.jsxs("span",{className:"flex justify-center items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.1em",height:"1.1em",viewBox:"0 0 256 256",children:e.jsx("path",{fill:"currentColor",d:"M247.31 124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57 61.26 162.88 48 128 48S61.43 61.26 36.34 86.35C17.51 105.18 9 124 8.69 124.76a8 8 0 0 0 0 6.5c.35.79 8.82 19.57 27.65 38.4C61.43 194.74 93.12 208 128 208s66.57-13.26 91.66-38.34c18.83-18.83 27.3-37.61 27.65-38.4a8 8 0 0 0 0-6.5M128 192c-30.78 0-57.67-11.19-79.93-33.25A133.5 133.5 0 0 1 25 128a133.3 133.3 0 0 1 23.07-30.75C70.33 75.19 97.22 64 128 64s57.67 11.19 79.93 33.25A133.5 133.5 0 0 1 231.05 128c-7.21 13.46-38.62 64-103.05 64m0-112a48 48 0 1 0 48 48a48.05 48.05 0 0 0-48-48m0 80a32 32 0 1 1 32-32a32 32 0 0 1-32 32"})}),e.jsx("p",{className:"text-inherit font-bold",children:"发布状态"})]}),e.jsxs("span",{className:"flex justify-center items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6zm7 6q-.425 0-.712-.288T11 13t.288-.712T12 12t.713.288T13 13t-.288.713T12 14m-4 0q-.425 0-.712-.288T7 13t.288-.712T8 12t.713.288T9 13t-.288.713T8 14m8 0q-.425 0-.712-.288T15 13t.288-.712T16 12t.713.288T17 13t-.288.713T16 14m-4 4q-.425 0-.712-.288T11 17t.288-.712T12 16t.713.288T13 17t-.288.713T12 18m-4 0q-.425 0-.712-.288T7 17t.288-.712T8 16t.713.288T9 17t-.288.713T8 18m8 0q-.425 0-.712-.288T15 17t.288-.712T16 16t.713.288T17 17t-.288.713T16 18"})}),e.jsx("p",{className:"text-inherit font-bold",children:"创建时间"})]}),e.jsxs("span",{className:"flex justify-center items-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M5 22q-.825 0-1.412-.587T3 20V6q0-.825.588-1.412T5 4h1V3q0-.425.288-.712T7 2t.713.288T8 3v1h8V3q0-.425.288-.712T17 2t.713.288T18 3v1h1q.825 0 1.413.588T21 6v14q0 .825-.587 1.413T19 22zm0-2h14V10H5zM5 8h14V6H5zm0 0V6zm7 6q-.425 0-.712-.288T11 13t.288-.712T12 12t.713.288T13 13t-.288.713T12 14m-4 0q-.425 0-.712-.288T7 13t.288-.712T8 12t.713.288T9 13t-.288.713T8 14m8 0q-.425 0-.712-.288T15 13t.288-.712T16 12t.713.288T17 13t-.288.713T16 14m-4 4q-.425 0-.712-.288T11 17t.288-.712T12 16t.713.288T13 17t-.288.713T12 18m-4 0q-.425 0-.712-.288T7 17t.288-.712T8 16t.713.288T9 17t-.288.713T8 18m8 0q-.425 0-.712-.288T15 17t.288-.712T16 16t.713.288T17 17t-.288.713T16 18"})}),e.jsx("p",{className:"text-inherit font-bold",children:"更新时间"})]})]}),e.jsx("hr",{}),e.jsx("div",{className:"h-full",children:i.map((t,l)=>e.jsxs("span",{children:[console.log(t),e.jsxs("div",{className:"grid grid-cols-7 gap-2 mx-2 py-1",children:[e.jsx("span",{className:"flex items-center justify-center",children:e.jsx("p",{children:t.title})}),e.jsx("span",{className:"flex items-center justify-center",children:e.jsx("p",{children:t.auth})}),e.jsx("span",{className:"flex justify-center items-center gap-1",children:t.tag.map((o,j)=>e.jsx("span",{className:"bg-black rounded-2xl text-white px-2",children:o},j))}),e.jsx("span",{className:"flex items-center justify-center",children:e.jsx("input",{type:"checkbox",className:"toggle",defaultChecked:t.public,onChange:a})}),e.jsx("span",{className:"flex items-center justify-center gap-2",children:e.jsx("span",{children:T(t.createdAt)})}),e.jsx("span",{className:"flex items-center justify-center gap-2",children:e.jsx("span",{children:T(t.updatedAt)})}),e.jsxs("span",{className:"flex items-center justify-center gap-10",children:[e.jsx(d,{to:`/hashboard/edit/${t._id}`,children:e.jsx("svg",{className:"hover:cursor-pointer hover:text-gray-400",xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M5 19h1.425L16.2 9.225L14.775 7.8L5 17.575zm-2 2v-4.25L16.2 3.575q.3-.275.663-.425t.762-.15t.775.15t.65.45L20.425 5q.3.275.438.65T21 6.4q0 .4-.137.763t-.438.662L7.25 21zM19 6.4L17.6 5zm-3.525 2.125l-.7-.725L16.2 9.225z"})})}),e.jsx("svg",{className:"hover:cursor-pointer text-red-600 hover:text-red-300",xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",viewBox:"0 0 24 24",children:e.jsx("path",{fill:"currentColor",d:"M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"})})]})]}),e.jsx("hr",{})]},l))}),e.jsxs("div",{className:"flex items-center justify-between gap-2 p-2",children:[e.jsx("span",{className:"flex items-center gap-2",children:e.jsxs("p",{children:["显示第 ",1," 页，该页共 ",10," 条。"]})}),e.jsx("span",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"join grid grid-cols-2 border-2",children:[e.jsx("button",{className:"join-item btn-md btn-outline",children:"Previous page"}),e.jsx("button",{className:"join-item btn-md btn-outline",children:"Next"})]})})]})]})]})})})}const ge=s=>e.jsx(e.Fragment,{children:e.jsx(J,{defaultChecked:s.artShow,onClick:s.Changeshow,onChange:s.Switch})}),fe=[W(),K(),G(),Q(),Y(),_(),X()];function ve(s){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"",children:e.jsx(ee,{locale:se,plugins:fe,value:s.value,onChange:a=>s.setValue(a),uploadImages:async a=>{let i="",n=new FormData;n.append("file",a[0]);const t=await u.post("/api/upload",n);return t&&t.data.code===1?(console.log(t.data),i=t.data.data):notification.error({message:"图片上传失败"}),[{title:a.map(l=>l.name),url:L+i}]}})})})}const Ne=s=>{const{value:a,setValue:i}=s;return e.jsx(ve,{value:a||"",setValue:i})};function S(s){const{aid:a}=te(),i=q(),[n,t]=r.useState(""),[l,o]=r.useState(""),[j,f]=r.useState(),[v,g]=r.useState(""),[N,w]=r.useState(""),[p,x]=r.useState(!0),[h,y]=r.useState(!1),[z,Ce]=r.useState(!1);function M(c){}r.useEffect(()=>{a&&u.get(`/api/articles/getarticle/${a}`).then(c=>{console.log(c);const{title:m,desc:B,tag:P,content:I,auth:H,public:D}=c.data.data;t(m),o(B),f(P),g(I),w(H),x(D)}).catch(c=>console.error(c))},[a]);async function V(){y(!0);try{const c={title:n,desc:l,tag:j,content:v,auth:N,public:p};a?await u.patch(`/api/articles/${a}`,c).then(m=>{console.log(m)}).catch(m=>console.error(m)):await u.post("/api/articles",c).then(m=>{console.log(m)}).catch(m=>console.error(m)),i("/hashboard/blog")}catch(c){console.log(c)}finally{y(!1)}}function F(){x(!p)}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-2 w-full h-auto border-l-2 border-solid rounded-md",children:e.jsxs("div",{className:"p-2 w-full",children:[e.jsx("h2",{children:"文章编辑"}),e.jsx("hr",{className:"my-2"}),e.jsx("div",{className:"my-2",children:e.jsxs("span",{className:"text-inherit font-medium space-y-2",children:[e.jsx("span",{className:"text-lg",children:"标题"}),e.jsx(b,{value:n,onChange:c=>t(c.target.value),size:"large",text:"文章标题"})]})}),e.jsx("div",{className:"my-2",children:e.jsxs("span",{className:"text-inherit font-medium space-y-2",children:[e.jsx("span",{className:"text-lg",children:"文章描述"}),e.jsx(b,{value:l,onChange:c=>o(c.target.value),size:"large",text:"文章描述"})]})}),e.jsx("div",{className:"my-2",children:e.jsxs("span",{className:"text-inherit font-medium space-y-2",children:[e.jsx("span",{className:"text-lg",children:"标签"}),e.jsx(k,{setArtTag:f,size:"large"})]})}),e.jsx("div",{className:"my-2",children:e.jsxs("span",{className:"text-inherit font-medium space-y-2",children:[e.jsx("span",{className:"text-lg",children:"作者"}),e.jsx(b,{value:N,onChange:c=>w(c.target.value),size:"large",text:"Author"})]})}),e.jsx("div",{className:"my-2",children:e.jsxs("span",{className:"text-inherit font-medium space-y-2",children:[e.jsx("span",{className:"text-lg",children:"公开文章"}),e.jsx("br",{}),e.jsx(ge,{value:p,artShow:p,Switch:M,Changeshow:F})]})}),e.jsx("div",{className:"my-2 mt-4",children:e.jsxs("span",{className:"text-inherit font-medium space-y-2",children:[e.jsx("span",{className:"text-lg",children:"文章内容"}),e.jsx("br",{}),e.jsx("div",{className:"",children:e.jsx(Ne,{value:v,setValue:g},z)})]})}),e.jsx("div",{className:"mb-2 mt-8",children:e.jsx("span",{className:"text-inherit font-medium space-y-2",children:e.jsx("button",{onClick:V,disabled:h,className:"btn w-[160px] bg-[#1677FF] hover:bg-[#1688FF] text-white",children:h?"发布中...":"发布"})})})]})})})}function we(s){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-2 w-full h-full border-l-2 border-solid rounded-md",children:e.jsxs("div",{className:"p-2",children:[e.jsx("h2",{children:"标签管理"}),e.jsx("hr",{}),e.jsx("div",{children:"label"})]})})})}function be(s){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-2 w-full h-full border-l-2 border-solid rounded-md",children:e.jsxs("div",{className:"p-2",children:[e.jsx("h2",{children:"手记管理"}),e.jsx("hr",{}),e.jsx("div",{children:"手记"})]})})})}function ye(s){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-2 w-full h-full border-l-2 border-solid rounded-md",children:e.jsxs("div",{className:"p-2",children:[e.jsx("h2",{children:"友链"}),e.jsx("hr",{}),e.jsx("div",{children:"Friend"})]})})})}function Te(s){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-2 w-full h-full border-l-2 border-solid rounded-md",children:e.jsxs("div",{className:"p-2",children:[e.jsx("h2",{children:"About"}),e.jsx("hr",{}),e.jsx("div",{children:"about"})]})})})}function Se(s){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"m-2 w-full h-full p-2 border-2 rounded-lg",children:e.jsxs("div",{className:"p-2 space-y-4",children:[e.jsx("h2",{children:"统计"}),e.jsx("hr",{className:"my-2 mb-6"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"stats shadow",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title",children:"Total Page Views"}),e.jsx("div",{className:"stat-value",children:"89,400"}),e.jsx("div",{className:"stat-desc",children:"21% more than last month"})]})}),e.jsx("div",{className:"stats shadow",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title",children:"Total User Views"}),e.jsx("div",{className:"stat-value",children:"89,400"}),e.jsx("div",{className:"stat-desc",children:"21% more than last month"})]})}),e.jsxs("div",{className:"stats shadow",children:[e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-primary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),e.jsx("div",{className:"stat-title",children:"Total Likes"}),e.jsx("div",{className:"stat-value text-primary",children:"25.6K"}),e.jsx("div",{className:"stat-desc",children:"21% more than last month"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-secondary",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-8 h-8 stroke-current",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("div",{className:"stat-title",children:"Page Views"}),e.jsx("div",{className:"stat-value text-secondary",children:"2.6M"}),e.jsx("div",{className:"stat-desc",children:"21% more than last month"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-secondary",children:e.jsx("div",{className:"avatar online",children:e.jsx("div",{className:"w-16 rounded-full",children:e.jsx("img",{src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.jpg"})})})}),e.jsx("div",{className:"stat-value",children:"86%"}),e.jsx("div",{className:"stat-title",children:"Tasks done"}),e.jsx("div",{className:"stat-desc text-secondary",children:"31 tasks remaining"})]})]})]}),e.jsxs("div",{className:"flex gap-14",children:[e.jsx("div",{className:"stats shadow",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title",children:"Total Messages"}),e.jsx("div",{className:"stat-value",children:"400"}),e.jsx("div",{className:"stat-desc",children:"21% more than last month"})]})}),e.jsx("div",{className:"stats shadow",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-title",children:"Total Friends"}),e.jsx("div",{className:"stat-value",children:"5"}),e.jsx("div",{className:"stat-desc",children:"21% more than last month"})]})})]})]})})})}function A(){const s=ae();return console.error(s),e.jsxs("div",{id:"error-page",className:"h-[100vh] w-full flex flex-col justify-center items-center space-y-12",children:[e.jsx("h1",{className:"font-bold text-2xl text-inherit",children:"Oops!"}),e.jsx("p",{children:"Sorry, an unexpected error has occurred."}),e.jsx("p",{children:e.jsx("i",{children:s.statusText||s.message})})]})}const Ae=le([{path:"/",element:e.jsx(ue,{}),errorElement:e.jsx(A,{})},{path:"hashboard",element:e.jsx(he,{}),errorElement:e.jsx(A,{}),children:[{path:"home",element:e.jsx(Se,{})},{path:"blog",element:e.jsx(pe,{})},{path:"add",element:e.jsx(S,{})},{path:"edit/:aid",element:e.jsx(S,{})},{path:"label",element:e.jsx(we,{})},{path:"shouji",element:e.jsx(be,{})},{path:"friend",element:e.jsx(ye,{})},{path:"about",element:e.jsx(Te,{})}]}]);re.createRoot(document.getElementById("root")).render(e.jsx(ne,{theme:{token:{colorBgContainer:"rgba(0,0,0,0)",colorTextPlaceholder:"gray"}},children:e.jsx(ie,{router:Ae})}));
